# Database Configuration
# DATABASE_URL is the source of truth for database connection
# Backend uses postgresql+asyncpg:// format, frontend automatically converts to postgresql://
# Note: For docker-compose, POSTGRES_* variables use hardcoded defaults matching this URL
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/better_auth_db

# Database Schema for Backend (default: api)
DB_SCHEMA=api

# pgWeb Configuration (PostgreSQL UI with auto-login)
PGWEB_PORT=8081

# MinIO Configuration
# MINIO_ACCESS_KEY and MINIO_SECRET_KEY are used for both MinIO server and S3 API access
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ENDPOINT=localhost:9000
MINIO_USE_SSL=false
MINIO_BUCKET_NAME=better-auth-storage
MINIO_REGION=us-east-1

# Better Auth Configuration
BETTER_AUTH_URL=http://localhost:3000
BETTER_AUTH_SECRET=change-me-in-production

# Backend Configuration
LOG_LEVEL=INFO
LOG_FORMAT_JSON=false
CORS_ORIGINS=http://localhost:3000

# HTTP Client Configuration
HTTP_CLIENT_TIMEOUT=5.0

# JWKS Cache Configuration
JWKS_CACHE_TTL_SECONDS=3600

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# Database Connection Pool Configuration
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# File Operations Configuration
OUTPUT_FILE_PATH=output_file.txt

# Job Scheduler Configuration
# JOB_STORE_URL is auto-generated from DATABASE_URL (sync format)
# APScheduler requires synchronous database connection (postgresql:// not postgresql+asyncpg://)
JOB_STORE_TABLE_NAME=apscheduler_jobs
JOB_EXECUTOR_MAX_WORKERS=10
# Misfire grace time in seconds - how long after a missed run time a job can still be executed
# Default: 3600 seconds (1 hour) to handle cases where scheduler is down temporarily
JOB_MISFIRE_GRACE_TIME_SECONDS=3600
# Job persistence verification settings
JOB_PERSISTENCE_VERIFY_MAX_RETRIES=5
JOB_PERSISTENCE_VERIFY_RETRY_DELAY_SECONDS=0.2
# Log retrieval retry settings
LOG_RETRY_MAX_ATTEMPTS=3
LOG_RETRY_DELAY_SECONDS=0.1

# Security Headers Configuration (Backend)
# Enable/disable security headers middleware
SECURITY_HEADERS_ENABLED=true
# HSTS max age in seconds (1 year = 31536000)
HSTS_MAX_AGE=31536000
# Content Security Policy (CSP) - customize based on your needs
CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self';
# Permissions Policy - restrict browser features
PERMISSIONS_POLICY=geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), speaker=()

# Security Headers Configuration (Frontend - Next.js)
# Enable/disable security headers (default: true)
NEXT_PUBLIC_SECURITY_HEADERS_ENABLED=true
# HSTS max age in seconds (1 year = 31536000)
NEXT_PUBLIC_HSTS_MAX_AGE=31536000
# Content Security Policy for frontend
NEXT_PUBLIC_CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self';
# Permissions Policy for frontend
NEXT_PUBLIC_PERMISSIONS_POLICY=geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), speaker=()

# Logging Configuration
# Log level for frontend (client-side) - only used in development
NEXT_PUBLIC_LOG_LEVEL=info

# Frontend Configuration
NEXT_PUBLIC_API_URL=http://localhost:8000

